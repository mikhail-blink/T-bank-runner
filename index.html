<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Bank Runner</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div id="game-container">
        <canvas id="game-canvas"></canvas>

        <!-- UI Overlay -->
        <div id="ui-layer">

            <!-- Turn off orientation warning -->
            <div id="orientation-warning" class="hidden">
                <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ–≤–µ—Ä–Ω–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ üîÑ</p>
            </div>

            <!-- Character Selection Screen -->
            <div id="screen-character-select" class="screen">
                <h1 class="title">–í–´–ë–û–† –ü–ï–†–°–û–ù–ê–ñ–ê</h1>
                <div class="char-cards">
                    <div class="char-card" data-char="dania" onclick="game.selectCharacter('dania')">
                        <div class="char-portrait dania-portrait"></div>
                        <h2>–î–ê–ù–Ø</h2>
                        <p>–û—Ä—É–∂–∏–µ: –¢–∏–∫—Ç–æ–∫</p>
                    </div>
                    <div class="char-card" data-char="tatiana" onclick="game.selectCharacter('tatiana')">
                        <div class="char-portrait tatiana-portrait"></div>
                        <h2>–¢–ê–¢–¨–Ø–ù–ê</h2>
                        <p>–û—Ä—É–∂–∏–µ: –¢–æ–∫—Å–∏—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</p>
                    </div>
                </div>
                <div class="controls-hint" style="margin-top: 20px; font-size: 1.2rem; opacity: 0.9;">–ö–æ—Å–Ω–∏—Ç–µ—Å—å –¥–ª—è
                    —Å—Ç–∞—Ä—Ç–∞</div>
                <div class="desktop-controls-hint" style="font-size: 12px; margin-top: 5px; opacity: 0.7;">
                    –ü–ö: [SPACE] –ü—Ä—ã–∂–æ–∫ | [Z] –∏–ª–∏ [SHIFT] –í—ã—Å—Ç—Ä–µ–ª
                </div>
            </div>

            <!-- HUD -->
            <div id="hud" class="hidden">
                <div class="hp-bar" id="hp-display">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
                <div class="level-info" id="level-display">–£—Ä–æ–≤–µ–Ω—å 1: –ü–∞—à–∞</div>
                <button id="mute-btn">üîä</button>
            </div>

            <!-- Mobile Controls -->
            <div id="mobile-controls" class="hidden">
                <button id="btn-shoot" class="control-btn shoot-btn">üî•</button>
                <div id="touch-zone-jump" class="touch-zone"></div>
                <button id="btn-jump" class="control-btn jump-btn">JUMP</button>
            </div>

            <!-- Game Over Screen -->
            <div id="screen-game-over" class="screen hidden">
                <h1>–û–ô! –í–°–Å!</h1>
                <p>–í–∞—Å –∑–∞–≤–∞–ª–∏–ª–∏ –∑–∞–¥–∞—á–∞–º–∏.</p>
                <button class="main-btn" onclick="game.restartLevel()">–ó–ê–ù–û–í–û</button>
            </div>

            <!-- Victory Screen -->
            <div id="screen-victory" class="screen hidden">
                <h1 class="victory-text" style="font-family: sans-serif; font-weight: 900; text-transform: uppercase;">
                    –ü–æ–∑–¥—Ä–∞–≤–ª—è—é ‚Äî —Ç–µ–ø–µ—Ä—å —Ç—ã –ª–∏–¥ –≤—Å–µ—Ö –ª–∏–Ω–∏–π. –£–≤–æ–ª–∏–º –≤—Å–µ—Ö?</h1>
                <div class="victory-buttons">
                    <button class="main-btn btn-yes" onclick="game.finalDecision(true)">–î–ê</button>
                    <button class="main-btn btn-no" onclick="game.finalDecision(false)">–ù–ï–¢</button>
                </div>
                <button class="secondary-btn" onclick="game.restartGame()">–†–ï–°–¢–ê–†–¢</button>
            </div>

            <!-- Level Transition Screen -->
            <div id="screen-transition" class="screen hidden"
                style="background: #FCD54C; color: #333; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 100;">
                <h1 id="trans-title"
                    style="font-size: 3rem; font-weight: 800; text-transform: uppercase; margin-bottom: 20px;">–£–†–û–í–ï–ù–¨
                    –ü–†–û–ô–î–ï–ù</h1>
                <p id="trans-next" style="font-size: 1.5rem; font-weight: 600;">–°–õ–ï–î–£–Æ–©–ò–ô –£–†–û–í–ï–ù–¨...</p>
            </div>

            <!-- Resignation Letter -->
            <div id="screen-resignation" class="screen hidden"
                style="background: rgba(0,0,0,0.8); display: flex; justify-content: center; align-items: center; z-index: 200;">
                <div class="paper"
                    style="background: white; color: black; padding: 40px; width: 80%; max-width: 500px; font-family: 'Times New Roman', serif; box-shadow: 0 0 20px rgba(0,0,0,0.5);">
                    <h2 style="text-align: center; text-decoration: underline; margin-bottom: 30px;">–ó–ê–Ø–í–õ–ï–ù–ò–ï</h2>
                    <p style="font-size: 1.2rem; line-height: 1.5; margin-bottom: 20px;">
                        –Ø, <span id="resign-name" style="font-weight: bold; text-decoration: underline;">–ò–º—è
                            –ü–µ—Ä—Å–æ–Ω–∞–∂–∞</span>, –ø—Ä–æ—à—É —É–≤–æ–ª–∏—Ç—å –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏ –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –∂–µ–ª–∞–Ω–∏—é, —Ç–∞–∫ –∫–∞–∫ —è
                        —Ç–µ–ø–µ—Ä—å –ì–ª–∞–≤–Ω—ã–π –õ–∏–¥ –∏ –º–Ω–µ –Ω–∏–∫—Ç–æ –Ω–µ –Ω—É–∂–µ–Ω.
                    </p>
                    <p style="text-align: right; margin-top: 40px;">–î–∞—Ç–∞: 26.01.2025</p>
                    <p style="text-align: right;">–ü–æ–¥–ø–∏—Å—å: <i>–õ–∏–¥</i></p>
                    <button class="main-btn" style="margin-top: 30px; width: 100%;"
                        onclick="Telegram.WebApp.close()">–ü–û–î–ü–ò–°–ê–¢–¨ –ò –£–ô–¢–ò</button>
                </div>
            </div>

            <!-- Screamer -->
            <div id="screen-screamer" class="screen hidden"
                style="background: black; z-index: 300; display: flex; justify-content: center; align-items: center;">
                <img id="screamer-img" src="" style="width: 100%; height: 100%; object-fit: cover;">
            </div>

        </div>

        <!-- Hidden Asset Loader helper -->
        <div id="assets" style="display:none;">
            <img id="img-dania" src="dania_sprites_fixed_1769628642162.png">
            <img id="img-tatiana" src="tatiana_sprites_fixed_1769628657831.png">
            <img id="img-bosses" src="bosses_sprites_fixed_1769628677235.png">
            <img id="img-obstacles" src="obstacles_tbank_rebrand_1769629375357.png">
        </div>

        <script src="game.js"></script>
</body>

</html>